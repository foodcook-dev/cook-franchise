import{a as T,r as a,b as Y,j as s,d as W,e as K,P,f as w,g as Q,h as $,i as xe,D as ge,k as ye,R as be,c as j,l as Ce,B as O,L as z,m as H,n as Z,u as we,O as je}from"./index-D3Mrkq1w.js";import{D as Te,a as Ne,b as ke,c as Ee,d as Re,e as Pe,L as q}from"./dropdown-menu-C96Loi2D.js";import{c as ee,R as Me,A as Le,C as De,a as Ie}from"./index-BZXZtcnz.js";import{i as Ae}from"./user-auth-B3GK_eKi.js";import"./index-n9scKyXG.js";/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oe=T("outline","checkup-list","IconCheckupList",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14h.01",key:"svg-2"}],["path",{d:"M9 17h.01",key:"svg-3"}],["path",{d:"M12 16l1 1l3 -3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var te=T("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e=T("outline","chevrons-left","IconChevronsLeft",[["path",{d:"M11 7l-5 5l5 5",key:"svg-0"}],["path",{d:"M17 7l-5 5l5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Se=T("outline","layout-dashboard","IconLayoutDashboard",[["path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-1"}],["path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-2"}],["path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $e=T("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ze=T("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var He=T("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]),M="Collapsible",[Ge,Rt]=W(M),[Fe,G]=Ge(M),ne=a.forwardRef((t,o)=>{const{__scopeCollapsible:e,open:n,defaultOpen:r,disabled:l,onOpenChange:i,...d}=t,[c,p]=Y({prop:n,defaultProp:r??!1,onChange:i,caller:M});return s.jsx(Fe,{scope:e,disabled:l,contentId:K(),open:c,onOpenToggle:a.useCallback(()=>p(u=>!u),[p]),children:s.jsx(P.div,{"data-state":B(c),"data-disabled":l?"":void 0,...d,ref:o})})});ne.displayName=M;var oe="CollapsibleTrigger",re=a.forwardRef((t,o)=>{const{__scopeCollapsible:e,...n}=t,r=G(oe,e);return s.jsx(P.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":B(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:o,onClick:w(t.onClick,r.onOpenToggle)})});re.displayName=oe;var F="CollapsibleContent",se=a.forwardRef((t,o)=>{const{forceMount:e,...n}=t,r=G(F,t.__scopeCollapsible);return s.jsx(Q,{present:e||r.open,children:({present:l})=>s.jsx(Be,{...n,ref:o,present:l})})});se.displayName=F;var Be=a.forwardRef((t,o)=>{const{__scopeCollapsible:e,present:n,children:r,...l}=t,i=G(F,e),[d,c]=a.useState(n),p=a.useRef(null),u=$(o,p),m=a.useRef(0),v=m.current,h=a.useRef(0),x=h.current,g=i.open||d,y=a.useRef(g),b=a.useRef(void 0);return a.useEffect(()=>{const f=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(f)},[]),xe(()=>{const f=p.current;if(f){b.current=b.current||{transitionDuration:f.style.transitionDuration,animationName:f.style.animationName},f.style.transitionDuration="0s",f.style.animationName="none";const C=f.getBoundingClientRect();m.current=C.height,h.current=C.width,y.current||(f.style.transitionDuration=b.current.transitionDuration,f.style.animationName=b.current.animationName),c(n)}},[i.open,n]),s.jsx(P.div,{"data-state":B(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...l,ref:u,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:g&&r})});function B(t){return t?"open":"closed"}var Ve=ne;const Ue=Ve,Je=re,Xe=se;var[L,Pt]=W("Tooltip",[ee]),D=ee(),ae="TooltipProvider",qe=700,_="tooltip.open",[Ye,V]=L(ae),ie=t=>{const{__scopeTooltip:o,delayDuration:e=qe,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:l}=t,i=a.useRef(!0),d=a.useRef(!1),c=a.useRef(0);return a.useEffect(()=>{const p=c.current;return()=>window.clearTimeout(p)},[]),s.jsx(Ye,{scope:o,isOpenDelayedRef:i,delayDuration:e,onOpen:a.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:a.useCallback(p=>{d.current=p},[]),disableHoverableContent:r,children:l})};ie.displayName=ae;var R="Tooltip",[We,I]=L(R),le=t=>{const{__scopeTooltip:o,children:e,open:n,defaultOpen:r,onOpenChange:l,disableHoverableContent:i,delayDuration:d}=t,c=V(R,t.__scopeTooltip),p=D(o),[u,m]=a.useState(null),v=K(),h=a.useRef(0),x=i??c.disableHoverableContent,g=d??c.delayDuration,y=a.useRef(!1),[b,f]=Y({prop:n,defaultProp:r??!1,onChange:X=>{X?(c.onOpen(),document.dispatchEvent(new CustomEvent(_))):c.onClose(),l==null||l(X)},caller:R}),C=a.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),k=a.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,f(!0)},[f]),E=a.useCallback(()=>{window.clearTimeout(h.current),h.current=0,f(!1)},[f]),J=a.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,f(!0),h.current=0},g)},[g,f]);return a.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(Me,{...p,children:s.jsx(We,{scope:o,contentId:v,open:b,stateAttribute:C,trigger:u,onTriggerChange:m,onTriggerEnter:a.useCallback(()=>{c.isOpenDelayedRef.current?J():k()},[c.isOpenDelayedRef,J,k]),onTriggerLeave:a.useCallback(()=>{x?E():(window.clearTimeout(h.current),h.current=0)},[E,x]),onOpen:k,onClose:E,disableHoverableContent:x,children:e})})};le.displayName=R;var S="TooltipTrigger",ce=a.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=I(S,e),l=V(S,e),i=D(e),d=a.useRef(null),c=$(o,d,r.onTriggerChange),p=a.useRef(!1),u=a.useRef(!1),m=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Le,{asChild:!0,...i,children:s.jsx(P.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:c,onPointerMove:w(t.onPointerMove,v=>{v.pointerType!=="touch"&&!u.current&&!l.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:w(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:w(t.onPointerDown,()=>{r.open&&r.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:w(t.onFocus,()=>{p.current||r.onOpen()}),onBlur:w(t.onBlur,r.onClose),onClick:w(t.onClick,r.onClose)})})});ce.displayName=S;var Ke="TooltipPortal",[Mt,Qe]=L(Ke,{forceMount:void 0}),N="TooltipContent",de=a.forwardRef((t,o)=>{const e=Qe(N,t.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...l}=t,i=I(N,t.__scopeTooltip);return s.jsx(Q,{present:n||i.open,children:i.disableHoverableContent?s.jsx(ue,{side:r,...l,ref:o}):s.jsx(Ze,{side:r,...l,ref:o})})}),Ze=a.forwardRef((t,o)=>{const e=I(N,t.__scopeTooltip),n=V(N,t.__scopeTooltip),r=a.useRef(null),l=$(o,r),[i,d]=a.useState(null),{trigger:c,onClose:p}=e,u=r.current,{onPointerInTransitChange:m}=n,v=a.useCallback(()=>{d(null),m(!1)},[m]),h=a.useCallback((x,g)=>{const y=x.currentTarget,b={x:x.clientX,y:x.clientY},f=rt(b,y.getBoundingClientRect()),C=st(b,f),k=at(g.getBoundingClientRect()),E=lt([...C,...k]);d(E),m(!0)},[m]);return a.useEffect(()=>()=>v(),[v]),a.useEffect(()=>{if(c&&u){const x=y=>h(y,u),g=y=>h(y,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,h,v]),a.useEffect(()=>{if(i){const x=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},f=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),C=!it(b,i);f?v():C&&(v(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,i,p,v]),s.jsx(ue,{...t,ref:l})}),[et,tt]=L(R,{isInside:!1}),nt=ye("TooltipContent"),ue=a.forwardRef((t,o)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:l,onPointerDownOutside:i,...d}=t,c=I(N,e),p=D(e),{onClose:u}=c;return a.useEffect(()=>(document.addEventListener(_,u),()=>document.removeEventListener(_,u)),[u]),a.useEffect(()=>{if(c.trigger){const m=v=>{const h=v.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),s.jsx(ge,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(De,{"data-state":c.stateAttribute,...p,...d,ref:o,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(nt,{children:n}),s.jsx(et,{scope:e,isInside:!0,children:s.jsx(be,{id:c.contentId,role:"tooltip",children:r||n})})]})})});de.displayName=N;var pe="TooltipArrow",ot=a.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=D(e);return tt(pe,e).isInside?null:s.jsx(Ie,{...r,...n,ref:o})});ot.displayName=pe;function rt(t,o){const e=Math.abs(o.top-t.y),n=Math.abs(o.bottom-t.y),r=Math.abs(o.right-t.x),l=Math.abs(o.left-t.x);switch(Math.min(e,n,r,l)){case l:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function st(t,o,e=5){const n=[];switch(o){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function at(t){const{top:o,right:e,bottom:n,left:r}=t;return[{x:r,y:o},{x:e,y:o},{x:e,y:n},{x:r,y:n}]}function it(t,o){const{x:e,y:n}=t;let r=!1;for(let l=0,i=o.length-1;l<o.length;i=l++){const d=o[l],c=o[i],p=d.x,u=d.y,m=c.x,v=c.y;u>n!=v>n&&e<(m-p)*(n-u)/(v-u)+p&&(r=!r)}return r}function lt(t){const o=t.slice();return o.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),ct(o)}function ct(t){if(t.length<=1)return t.slice();const o=[];for(let n=0;n<t.length;n++){const r=t[n];for(;o.length>=2;){const l=o[o.length-1],i=o[o.length-2];if((l.x-i.x)*(r.y-i.y)>=(l.y-i.y)*(r.x-i.x))o.pop();else break}o.push(r)}o.pop();const e=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;e.length>=2;){const l=e[e.length-1],i=e[e.length-2];if((l.x-i.x)*(r.y-i.y)>=(l.y-i.y)*(r.x-i.x))e.pop();else break}e.push(r)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var dt=ie,ut=le,pt=ce,he=de;const ht=dt,fe=ut,me=pt,U=a.forwardRef(({className:t,sideOffset:o=4,...e},n)=>s.jsx(he,{ref:n,sideOffset:o,className:j("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));U.displayName=he.displayName;function A(){const{pathname:t}=Ce();return{checkActiveNav:e=>{const n=t.split("/").filter(r=>r!=="");return e==="/"&&n.length<1?!0:n.includes(e.replace(/^\//,""))}}}function ft({links:t,isCollapsed:o,className:e,closeNav:n}){const r=({sub:l,...i})=>{const d=`${i.title}-${i.href}`;return o&&l?a.createElement(xt,{...i,sub:l,key:d,closeNav:n}):o?a.createElement(vt,{...i,key:d,closeNav:n}):l?a.createElement(mt,{...i,sub:l,key:d,closeNav:n}):a.createElement(ve,{...i,key:d,closeNav:n})};return s.jsx("div",{"data-collapsed":o,className:j("group border-b bg-background py-2 transition-[max-height,padding] duration-500 data-[collapsed=true]:py-2 md:border-none",e),children:s.jsx(ht,{delayDuration:0,children:s.jsx("nav",{className:"grid gap-1 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:t.map(r)})})})}function ve({title:t,icon:o,label:e,href:n,closeNav:r,subLink:l=!1}){const{checkActiveNav:i}=A(),d=Z.useTranslations();return s.jsxs(z,{to:n,onClick:r,className:j(H({variant:i(n)?"secondary":"ghost",size:"sm"}),"h-12 justify-start text-wrap rounded-none px-6",l&&"h-10 w-full border-l border-l-slate-500 px-2"),"aria-current":i(n)?"page":void 0,children:[s.jsx("div",{className:"mr-2",children:o}),d(t),e&&s.jsx("div",{className:"ml-2 rounded-lg bg-primary px-1 text-[0.625rem] text-primary-foreground",children:e})]})}function mt({title:t,icon:o,label:e,sub:n,closeNav:r}){const{checkActiveNav:l}=A(),i=Z.useTranslations(),d=!!(n!=null&&n.find(c=>l(c.href)));return s.jsxs(Ue,{defaultOpen:d,children:[s.jsxs(Je,{className:j(H({variant:"ghost",size:"sm"}),"group h-12 w-full justify-start rounded-none px-6"),children:[s.jsx("div",{className:"mr-2",children:o}),i(t),e&&s.jsx("div",{className:"ml-2 rounded-lg bg-primary px-1 text-[0.625rem] text-primary-foreground",children:e}),s.jsx("span",{className:j('ml-auto transition-all group-data-[state="open"]:-rotate-180'),children:s.jsx(te,{stroke:1})})]}),s.jsx(Xe,{className:"collapsibleDropdown",asChild:!0,children:s.jsx("ul",{children:n.map(c=>s.jsx("li",{className:"my-1 ml-8",children:s.jsx(ve,{...c,subLink:!0,closeNav:r})},c.title))})})]})}function vt({title:t,icon:o,label:e,href:n}){const{checkActiveNav:r}=A();return s.jsxs(fe,{delayDuration:0,children:[s.jsx(me,{asChild:!0,children:s.jsxs(z,{to:n,className:j(H({variant:r(n)?"secondary":"ghost",size:"icon"}),"h-12 w-12"),children:[o,s.jsx("span",{className:"sr-only",children:t})]})}),s.jsxs(U,{side:"right",className:"flex items-center gap-4",children:[t,e&&s.jsx("span",{className:"ml-auto text-muted-foreground",children:e})]})]})}function xt({title:t,icon:o,label:e,sub:n}){const{checkActiveNav:r}=A(),l=!!(n!=null&&n.find(i=>r(i.href)));return s.jsxs(Te,{children:[s.jsxs(fe,{delayDuration:0,children:[s.jsx(me,{asChild:!0,children:s.jsx(Ne,{asChild:!0,children:s.jsx(O,{variant:l?"secondary":"ghost",size:"icon",className:"h-12 w-12",children:o})})}),s.jsxs(U,{side:"right",className:"flex items-center gap-4",children:[t," ",e&&s.jsx("span",{className:"ml-auto text-muted-foreground",children:e}),s.jsx(te,{size:18,className:"-rotate-90 text-muted-foreground"})]})]}),s.jsxs(ke,{side:"right",align:"start",sideOffset:4,children:[s.jsxs(Ee,{children:[t," ",e?`(${e})`:""]}),s.jsx(Re,{}),n.map(({title:i,icon:d,label:c,href:p})=>s.jsx(Pe,{asChild:!0,children:s.jsxs(z,{to:p,className:`${r(p)?"bg-secondary":""}`,children:[d," ",s.jsx("span",{className:"ml-2 max-w-52 text-wrap",children:i}),c&&s.jsx("span",{className:"ml-auto text-xs",children:c})]})},`${i}-${p}`))]})]})}const gt=[{title:"sidebar.dashboard",label:"",href:"/",icon:s.jsx(Se,{size:18})},{title:"sidebar.stock_management",label:"",href:"/stock-management",icon:s.jsx(Oe,{size:18})},{title:"sidebar.brand_talks",label:"",href:"/brand-talks",icon:s.jsx(ze,{size:18})}];function yt({className:t,isCollapsed:o,setIsCollapsed:e,franchiseInfo:n}){const[r,l]=a.useState(!1);return a.useEffect(()=>{r?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},[r]),s.jsxs("aside",{className:j(`fixed left-0 right-0 top-0 z-50 w-full border-r-muted transition-[width] md:bottom-0 md:right-auto md:h-svh ${o?"md:w-14":"md:w-64"}`,t),children:[s.jsx("div",{onClick:()=>l(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${r?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black md:hidden`}),s.jsxs(q,{fixed:!0,className:r?"h-svh":"",children:[s.jsxs(q.Header,{sticky:!0,className:"z-50 flex justify-between bg-primary px-4 py-3 shadow-sm md:px-4",children:[s.jsx("div",{className:`flex items-center ${o?"":"gap-2"}`,children:s.jsx("div",{className:`flex flex-col justify-end truncate ${o?"invisible w-0":"visible w-auto"}`,children:n!=null&&n.name?s.jsxs("p",{className:"truncate text-sm font-semibold text-primary-foreground",children:[n==null?void 0:n.name," 관리자 페이지"]}):null})}),s.jsx(O,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":r,onClick:()=>l(i=>!i),children:r?s.jsx(He,{}):s.jsx($e,{})})]}),s.jsx(ft,{id:"sidebar-menu",className:`z-40 h-full flex-1 overflow-auto bg-primary text-primary-foreground ${r?"max-h-screen":"max-h-0 py-0 md:max-h-screen md:py-2"}`,closeNav:()=>l(!1),isCollapsed:o,links:gt}),s.jsx(O,{onClick:()=>e(i=>!i),size:"icon",variant:"outline",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:s.jsx(_e,{stroke:1.5,className:`h-5 w-5 ${o?"rotate-180":""}`})})]})]})}function bt({key:t,defaultValue:o}){const[e,n]=a.useState(()=>{const r=localStorage.getItem(t);return r!==null?JSON.parse(r):o});return a.useEffect(()=>{localStorage.setItem(t,JSON.stringify(e))},[e,t]),[e,n]}function Ct(){const[t,o]=bt({key:"collapsed-sidebar",defaultValue:!1});return a.useEffect(()=>{const e=()=>{o(window.innerWidth<768?!1:t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t,o]),[t,o]}const wt=()=>s.jsx("a",{className:"hover:bg-primary/90 fixed left-44 z-[999] -translate-y-52 whitespace-nowrap bg-primary px-4 py-2 text-sm font-medium text-primary-foreground opacity-95 shadow transition focus:translate-y-3 focus:transform focus-visible:ring-1 focus-visible:ring-ring",href:"#content",children:"Skip to Main"});function Lt(){const[t,o]=Ct(),e=JSON.parse(localStorage.getItem("userInfo")||"{}"),n=we(),r=localStorage.getItem("franchiseInfo")!==void 0?JSON.parse(localStorage.getItem("franchiseInfo")||"null"):null;return a.useEffect(()=>{Ae()},[]),a.useEffect(()=>{e||n("/login")},[]),s.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[s.jsx(wt,{}),s.jsx(yt,{isCollapsed:t,setIsCollapsed:o,userInfo:e,franchiseInfo:r}),s.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-hidden md:pt-0 ${t?"md:ml-14":"md:ml-64"} h-full`,children:s.jsx(je,{})})]})}export{Lt as default};
